<!DOCTYPE html>
<html lang="hi-IN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bharat Track - Live Status</title>
    <style>
        :root {
            --railway-blue: #003399;
            --indigo-air: #001b94;
            --bus-green: #11823b;
            --metro-red: #ed1c24;
            --bg: #f8f9fa;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            background: var(--bg);
        }

        /* --- Page 1: History List --- */
        #history-page {
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            padding: 20px 0;
            color: var(--railway-blue);
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .info h4 { margin: 0; font-size: 1.1rem; }
        .info p { margin: 5px 0 0; color: #666; font-size: 0.85rem; }

        .btn-track {
            background: var(--railway-blue);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }

        /* --- Page 2: Tracking Screen --- */
        #tracking-page {
            display: none;
            min-height: 100vh;
            background: #fff;
        }

        .tracking-header {
            background: var(--railway-blue);
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-btn {
            background: transparent;
            border: 1px solid white;
            color: white;
            cursor: pointer;
            border-radius: 4px;
            padding: 5px 10px;
        }

        .live-map-area {
            height: 250px;
            background: #e3f2fd;
            position: relative;
            overflow: hidden;
            border-bottom: 2px solid #ddd;
        }

        /* The "Vertical" Tracker line (similar to "Where is my train") */
        .vertical-track {
            padding: 40px 20px;
            position: relative;
        }

        .station-row {
            display: flex;
            gap: 20px;
            margin-bottom: 60px;
            position: relative;
        }

        .station-row::before {
            content: '';
            position: absolute;
            left: 9px;
            top: 20px;
            bottom: -45px;
            width: 3px;
            background: #ccc;
        }

        .station-row:last-child::before { display: none; }

        .dot {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 3px solid #ccc;
            border-radius: 50%;
            z-index: 2;
        }

        .active-dot {
            background: #4caf50;
            border-color: #4caf50;
            box-shadow: 0 0 10px #4caf50;
        }

        .vehicle-now {
            position: absolute;
            left: -5px;
            top: 60px; /* Moves based on progress */
            font-size: 24px;
            z-index: 3;
            transition: top 2s ease-in-out;
        }

        .station-name { font-weight: bold; }
        .time { color: #666; font-size: 0.9rem; }
        .price-tag { color: #d32f2f; font-weight: bold; font-size: 1.2rem; }
    </style>
</head>
<body>

    <div id="history-page">
        <div class="header">
            <h1>My Bookings</h1>
        </div>
        <div id="list-container"></div>
    </div>

    <div id="tracking-page">
        <div class="tracking-header">
            <button class="back-btn" onclick="showHistory()">‚Üê Back</button>
            <div>
                <div id="track-title" style="font-weight: bold;">Tracking...</div>
                <div id="track-id" style="font-size: 0.8rem; opacity: 0.8;"></div>
            </div>
        </div>

        <div class="live-map-area">
            <div style="padding: 20px; text-align: center;">
                <h2 id="current-status-text">Vehicle is on the move...</h2>
                <p id="eta-text">ETA: 15 Mins late</p>
                <div class="price-tag" id="track-price"></div>
            </div>
        </div>

        <div class="vertical-track">
            <div class="vehicle-now" id="live-icon">üöÜ</div>

            <div class="station-row">
                <div class="dot active-dot"></div>
                <div>
                    <div class="station-name" id="start-node">Station A</div>
                    <div class="time">Departed: 10:00 AM</div>
                </div>
            </div>

            <div class="station-row">
                <div class="dot"></div>
                <div>
                    <div class="station-name">Intermediate Junction</div>
                    <div class="time">Expected: 12:30 PM</div>
                </div>
            </div>

            <div class="station-row">
                <div class="dot"></div>
                <div>
                    <div class="station-name" id="end-node">Station B</div>
                    <div class="time">Scheduled: 04:00 PM</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const tripData = [
            { id: '12424', type: 'train', name: 'Rajdhani Express', from: 'New Delhi', to: 'Mumbai Central', price: '‚Çπ2,450', icon: 'üöÜ', status: 'Running on time', pos: '40px' },
            { id: '6E-502', type: 'flight', name: 'IndiGo Air', from: 'Bangalore', to: 'Kolkata', price: '‚Çπ5,800', icon: '‚úàÔ∏è', status: 'In Air', pos: '80px' },
            { id: 'BUS-99', type: 'bus', name: 'ZingBus Premium', from: 'Pune', to: 'Goa', price: '‚Çπ1,200', icon: 'üöå', status: 'Delayed by 20m', pos: '120px' },
            { id: 'M-LINE', type: 'metro', name: 'Yellow Line', from: 'Gurgaon', to: 'Samaypur Badli', price: '‚Çπ60', icon: 'üöá', status: 'Approaching Platform', pos: '10px' }
        ];

        function renderList() {
            const container = document.getElementById('list-container');
            container.innerHTML = tripData.map(trip => `
                <div class="card">
                    <div class="info">
                        <h4>${trip.icon} ${trip.name}</h4>
                        <p>${trip.from} ‚ûî ${trip.to}</p>
                        <p><strong>${trip.price}</strong></p>
                    </div>
                    <button class="btn-track" onclick="openTracker('${trip.id}')">Track</button>
                </div>
            `).join('');
        }

        function openTracker(id) {
            const trip = tripData.find(t => t.id === id);
            
            // Update Tracking Page Content
            document.getElementById('track-title').innerText = trip.name;
            document.getElementById('track-id').innerText = "ID: " + trip.id;
            document.getElementById('start-node').innerText = trip.from;
            document.getElementById('end-node').innerText = trip.to;
            document.getElementById('live-icon').innerText = trip.icon;
            document.getElementById('live-icon').style.top = trip.pos;
            document.getElementById('current-status-text').innerText = trip.status;
            document.getElementById('track-price').innerText = trip.price;

            // Switch Pages
            document.getElementById('history-page').style.display = 'none';
            document.getElementById('tracking-page').style.display = 'block';
        }

        function showHistory() {
            document.getElementById('history-page').style.display = 'block';
            document.getElementById('tracking-page').style.display = 'none';
        }

        renderList();
    </script>
</body>
</html>